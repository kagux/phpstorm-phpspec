<idea-plugin version="2">
  <id>pl.projectspace.idea.plugins.php.phpspec</id>
  <name>phpspec2</name>
  <version>0.1</version>
  <vendor email="os@przytulski.pl" url="http://projectspace.pl">Michal Przytulski</vendor>

  <description><![CDATA[
      Providing basic support for phpspec for phpstorm IDE.
      ]]></description>

  <change-notes><![CDATA[
      Add change notes here.<br>
      <small>most HTML tags may be used</small>
      ]]>
  </change-notes>

  <!-- please see http://confluence.jetbrains.net/display/IDEADEV/Build+Number+Ranges for description -->
  <idea-version since-build="129.757"/>

  <!-- please see http://confluence.jetbrains.net/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
       on how to target different products -->
  <!-- uncomment to enable plugin in all products
  <depends>com.intellij.modules.lang</depends>
  -->

  <application-components>
    <!-- Add your application components here -->
  </application-components>

  <project-components>
    <component>
      <implementation-class>pl.projectspace.idea.plugins.php.phpspec.PhpSpecProjectComponent</implementation-class>
    </component>
  </project-components>

  <actions>
      <group class="pl.projectspace.idea.plugins.php.phpspec.actions.PhpSpec" id="PhpSpecGroup" text="phpspec" description="phpspec actions" popup="true">
          <action id="InitialiseProject" class="pl.projectspace.idea.plugins.php.phpspec.actions.InitialiseProject"
                  text="Enable phpspec support for this project">
          </action>
          <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
      </group>
      <action id="CreateSpecForClass" class="pl.projectspace.idea.plugins.php.phpspec.actions.CreateSpecForClass"
              text="Create spec for class">
          <add-to-group group-id="GenerateGroup" anchor="last"/>
      </action>
      <action id="OpenSpecForClass" class="pl.projectspace.idea.plugins.php.phpspec.actions.PhpSpecSwitchContext"
              icon="/icons/phpspec.png"
              text="Go to class spec">
          <add-to-group group-id="GoToMenu" anchor="last"/>
          <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
          <add-to-group group-id="EditorActions" anchor="last"/>
          <!--<add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>-->
          <keyboard-shortcut keymap="$default" first-keystroke="alt meta S"/>
      </action>
  </actions>


  <extensions defaultExtensionNs="com.intellij">
      <projectConfigurable instance="pl.projectspace.idea.plugins.php.phpspec.SettingsForm"/>

      <php.typeProvider2 implementation="pl.projectspace.idea.plugins.php.phpspec.code.type.provider.WrappedObjectTypeProvider"/>

      <completion.contributor language="PHP" implementationClass="pl.projectspace.idea.plugins.php.phpspec.code.SpecCompletionContributor"/>
      <!--<psi.referenceContributor implementation="pl.projectspace.idea.plugins.php.phpspec.code.SpecReferenceContributor"/>-->

      <projectService serviceImplementation="pl.projectspace.idea.plugins.php.phpspec.Settings"/>
      <projectService serviceImplementation="pl.projectspace.idea.plugins.php.phpspec.command.Locator" />
      <projectService serviceImplementation="pl.projectspace.idea.plugins.php.phpspec.command.Executor" />

      <fileIconProvider implementation="pl.projectspace.idea.plugins.php.phpspec.icons.SpecFileIconProvider" />

      <!--<nameSuggestionProvider implementation="pl.projectspace.idea.plugins.php.phpspec.code.SpecNameSuggestionProvider" id="PHP"/>-->
      <!--<definitionsSearch implementation="com.jetbrains.php.lang.findUsages.PhpDefinitionsSearchExecutor"/>-->
      <!--<typedHandler implementation="pl.projectspace.idea.plugins.php.phpspec.code.SpecTypeHandler"/>-->
      <!--<inlineActionHandler implementation="pl.projectspace.idea.plugins.php.phpspec.code.SpecInlineVariableHandler" />-->
  </extensions>

  <depends>com.jetbrains.php</depends>
  <depends>com.intellij.modules.platform</depends>
  <depends>org.jetbrains.plugins.yaml</depends>

</idea-plugin>